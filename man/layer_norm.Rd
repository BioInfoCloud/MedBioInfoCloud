% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ImmuCellAI_mouse.R
\name{layer_norm}
\alias{layer_norm}
\title{Normalize Immune Cell Abundance by Cell Subset}
\usage{
layer_norm(pre_result, cell_ls)
}
\arguments{
\item{pre_result}{Pre-computed abundance matrix (rows = cell types, columns = samples).}

\item{cell_ls}{Character vector of target cell types to filter and normalize.}
}
\value{
Filtered and normalized abundance matrix (rows = target cell types, columns = samples).
}
\description{
Internal helper function to filter and normalize abundance of specific cell subsets (e.g., T cell subtypes)
based on a pre-defined cell list.
}
\examples{
# Example pre-result matrix (5 cell types, 2 samples)
pre_result <- matrix(c(0.3, 0.2, 0.1, 0.05, 0.35, 0.25, 0.2, 0.15, 0.1, 0.3),
                     nrow = 5, ncol = 2,
                     dimnames = list(c("CD4_Tcell", "CD8_Tcell", "Bcell", "DC", "Macrophage"),
                                     c("Sample1", "Sample2")))

# Target T cell subsets
t_cell_ls <- c("CD4_Tcell", "CD8_Tcell")

# Run layer_norm
normalized_tcell <- layer_norm(pre_result, t_cell_ls)
}
