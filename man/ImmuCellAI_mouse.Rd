% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ImmuCellAI_mouse.R
\name{ImmuCellAI_mouse}
\alias{ImmuCellAI_mouse}
\title{Predict Immune Cell Abundance in Mouse Samples Using Hierarchical Strategy}
\usage{
ImmuCellAI_mouse(
  sample,
  data_type,
  group_tag,
  customer,
  sig_file = NULL,
  exp_file = NULL
)
}
\arguments{
\item{sample}{Gene expression profile matrix. Rows are gene symbols (mouse), columns are sample IDs.
Accepts FPKM/TPM format for RNA-seq or log2-transformed signal for microarray.
If `group_tag = 1`, the first row must be group labels (e.g., "control" vs "tumor").}

\item{data_type}{Character string specifying the type of input data. Must be one of "rnaseq" (RNA-seq data) or "microarray" (microarray data).}

\item{group_tag}{Numeric indicator for group comparison. 1 = perform group comparison (requires group labels in the first row of `sample`), 0 = no group comparison.}

\item{customer}{Numeric indicator for custom reference files. 1 = use user-provided reference files, 0 = use built-in reference files (default).}

\item{sig_file}{List of custom gene signatures (R list format). Each element is a gene vector corresponding to a cell type. Required only when `customer = 1`.}

\item{exp_file}{Custom reference expression matrix (tab-separated). Rows are genes, columns are cell types. Required only when `customer = 1`.}
}
\value{
A list with two components:
        \item{abundance}{Data frame of immune cell abundance. Rows are samples, columns are 24 immune cell types + total infiltration score. Values are rounded to 4 decimal places.}
        \item{group_result}{Data frame of group comparison results (only if `group_tag = 1`). Rows are groups + "p value", columns are immune cell types + infiltration score.}
}
\description{
This function predicts the abundance of multiple immune cell types (24 subtypes in 3 layers) in mouse transcriptome data,
simulating flow cytometry's hierarchical classification process. It supports group comparison and custom reference files.
}
\examples{
# Load example data (built-in after package installation)
data("example_mouse_expr") # Example RNA-seq TPM matrix (rows: genes, columns: samples)

# Run prediction (no group comparison, use built-in references)
result <- ImmuCellAI_mouse(
  sample = example_mouse_expr,
  data_type = "rnaseq",
  group_tag = 0,
  customer = 0
)

# View cell abundance results
head(result$abundance)
}
